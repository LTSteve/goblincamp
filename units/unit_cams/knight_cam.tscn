[gd_scene load_steps=48 format=3 uid="uid://cfbnbc7yyfs1f"]

[ext_resource type="Environment" uid="uid://b8hhv81bda8f4" path="res://units/unit_cams/unit_cam_env.tres" id="1_0eo3w"]
[ext_resource type="PackedScene" uid="uid://ccbj6hhusyqky" path="res://models/knight/knight_weapon.glb" id="2_270c3"]
[ext_resource type="Script" path="res://util/AnimationTreeExpressionExtension.gd" id="4_46gq8"]
[ext_resource type="PackedScene" uid="uid://bjni3yp3c1c0c" path="res://models/knight/knight.glb" id="4_fybv2"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gdkon"]
animation = &"attack"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_00mk1"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_ujme8"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_kuden"]
graph_offset = Vector2(-468, 38)
nodes/Animation/node = SubResource("AnimationNodeAnimation_gdkon")
nodes/Animation/position = Vector2(-80, 160)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_ujme8")
nodes/TimeScale/position = Vector2(92, 166)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_00mk1")
"nodes/TimeScale 2/position" = Vector2(260, 160)
nodes/output/position = Vector2(540, 180)
node_connections = [&"output", 0, &"TimeScale 2", &"TimeScale", 0, &"Animation", &"TimeScale 2", 0, &"TimeScale"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iv4ea"]
animation = &"attack_2"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_mngrc"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_klp4f"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_fl2ye"]
graph_offset = Vector2(-52, 101)
nodes/Animation/node = SubResource("AnimationNodeAnimation_iv4ea")
nodes/Animation/position = Vector2(147, 169)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_klp4f")
nodes/TimeScale/position = Vector2(359, 208)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_mngrc")
"nodes/TimeScale 2/position" = Vector2(500, 200)
nodes/output/position = Vector2(820, 200)
node_connections = [&"output", 0, &"TimeScale 2", &"TimeScale", 0, &"Animation", &"TimeScale 2", 0, &"TimeScale"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qce01"]
animation = &"attack"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_hs567"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_8txhc"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_548a8"]
graph_offset = Vector2(-96, 10)
nodes/Animation/node = SubResource("AnimationNodeAnimation_qce01")
nodes/Animation/position = Vector2(-70, 141)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_8txhc")
nodes/TimeScale/position = Vector2(111, 169)
"nodes/TimeScale 2/node" = SubResource("AnimationNodeTimeScale_hs567")
"nodes/TimeScale 2/position" = Vector2(260, 160)
nodes/output/position = Vector2(420, 160)
node_connections = [&"output", 0, &"TimeScale 2", &"TimeScale", 0, &"Animation", &"TimeScale 2", 0, &"TimeScale"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xvsti"]
priority = 3
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mm26l"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j8a7m"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dkp82"]
priority = 2
advance_mode = 2
advance_condition = &"use_attack_2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_86kcm"]
advance_mode = 2
advance_condition = &"attack_loops"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ygyyh"]
advance_mode = 2
advance_expression = "use_trigger(\"end_channel\")"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_fyut3"]
states/attack/node = SubResource("AnimationNodeBlendTree_kuden")
states/attack/position = Vector2(421, 64)
states/attack_2/node = SubResource("AnimationNodeBlendTree_fl2ye")
states/attack_2/position = Vector2(389, 179)
states/attack_channel/node = SubResource("AnimationNodeBlendTree_548a8")
states/attack_channel/position = Vector2(356, -5)
transitions = ["Start", "attack", SubResource("AnimationNodeStateMachineTransition_xvsti"), "attack", "End", SubResource("AnimationNodeStateMachineTransition_mm26l"), "attack_2", "End", SubResource("AnimationNodeStateMachineTransition_j8a7m"), "Start", "attack_2", SubResource("AnimationNodeStateMachineTransition_dkp82"), "Start", "attack_channel", SubResource("AnimationNodeStateMachineTransition_86kcm"), "attack_channel", "End", SubResource("AnimationNodeStateMachineTransition_ygyyh")]
graph_offset = Vector2(59, -83)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7pwu0"]
animation = &"draw"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kkbd6"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_3x0mc"]
graph_offset = Vector2(-448, 52)
nodes/Animation/node = SubResource("AnimationNodeAnimation_7pwu0")
nodes/Animation/position = Vector2(-60, 160)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_kkbd6")
nodes/TimeScale/position = Vector2(120, 160)
node_connections = [&"output", 0, &"TimeScale", &"TimeScale", 0, &"Animation"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1h2fu"]
animation = &"stow"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_eohmn"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_1cktt"]
nodes/Animation/node = SubResource("AnimationNodeAnimation_1h2fu")
nodes/Animation/position = Vector2(60, 160)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_eohmn")
nodes/TimeScale/position = Vector2(212, 183)
nodes/output/position = Vector2(360, 180)
node_connections = [&"output", 0, &"TimeScale", &"TimeScale", 0, &"Animation"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1jilg"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n3pbs"]
animation = &"idle_combat"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1k68o"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7y4qh"]
advance_mode = 2
advance_expression = "use_trigger(\"attack\")"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fabty"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rfrvc"]
advance_mode = 2
advance_condition = &"in_combat"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_820cq"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vpp05"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0ginc"]
advance_mode = 2
advance_condition = &"not_in_combat"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_4b714"]
states/Attack/node = SubResource("AnimationNodeStateMachine_fyut3")
states/Attack/position = Vector2(703, 100)
states/Draw/node = SubResource("AnimationNodeBlendTree_3x0mc")
states/Draw/position = Vector2(409, 3)
states/Stow/node = SubResource("AnimationNodeBlendTree_1cktt")
states/Stow/position = Vector2(414, 183)
states/idle/node = SubResource("AnimationNodeAnimation_1jilg")
states/idle/position = Vector2(322, 100)
states/idle_combat/node = SubResource("AnimationNodeAnimation_n3pbs")
states/idle_combat/position = Vector2(526, 100)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_1k68o"), "idle_combat", "Attack", SubResource("AnimationNodeStateMachineTransition_7y4qh"), "Attack", "idle_combat", SubResource("AnimationNodeStateMachineTransition_fabty"), "idle", "Draw", SubResource("AnimationNodeStateMachineTransition_rfrvc"), "Draw", "idle_combat", SubResource("AnimationNodeStateMachineTransition_820cq"), "Stow", "idle", SubResource("AnimationNodeStateMachineTransition_vpp05"), "idle_combat", "Stow", SubResource("AnimationNodeStateMachineTransition_0ginc")]
graph_offset = Vector2(58, -23)

[sub_resource type="Animation" id="Animation_u37c2"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ModelHolder/knight_weapon:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-0.394594, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ModelHolder/knight_weapon:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(2.23556, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ModelHolder/knight_weapon:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1.47275, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ModelHolder/knight_weapon:rotation:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1.30945, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ModelHolder/knight_weapon:rotation:x")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-0.261799, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ModelHolder/knight_weapon:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-1.5708, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_v0h66"]
resource_name = "attack"
length = 1.8
step = 0.05
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ModelHolder/knight_weapon:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(1.25084, -0.25, 0, 0.25, 0, 1.25084, -0.25, 0, 0.25, 0, 0.57669, 0, 0, 0, 0, -1.48332, 0, 0, 0, 0, -1.65356, 0, 0, 0, 0, 0.258638, -0.25, 0, 0.129495, -0.126497, 1.25084, -0.109678, -0.0618531, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.348052, 0.648052, 0.8, 1.2, 1.8)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ModelHolder/knight_weapon:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-0.18948, -0.25, 0, 0.25, 0, -0.18948, -0.25, 0, 0.25, 0, 0.781427, 0, 0, 0, 0, 0.436042, 0, 0, 0, 0, 0.767894, 0, 0, 0, 0, 3.76315, -0.25, 0, 0.0816165, -0.303904, -0.18948, -0.0944443, 0.204193, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.348052, 0.648052, 0.8, 1.2, 1.8)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ModelHolder/knight_weapon:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-1.32519, -0.25, 0, 0.25, 0, -1.32519, -0.25, 0, 0.25, 0, -3.80694, 0, 0, 0, 0, -2.09898, 0, 0, 0, 0, -1.72192, 0, 0, 0, 0, -1.72192, -0.25, 0, 0.0881454, 0.0143608, -1.32519, -0.103149, -0.069227, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.348052, 0.648052, 0.8, 1.2, 1.8)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ModelHolder/knight_weapon:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-0.235619, -0.25, 0, 0.25, 0, -0.235619, -0.25, 0, 0.25, 0, 0.122173, 0, 0, 0, 0, -0.284489, 0, 0, 0, 0, -0.151844, 0, 0, 0, 0, -3.20268, -0.25, 0, 0.140376, -0.657713, -6.5188, -0.0944443, 0.0750093, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.348052, 0.648052, 0.8, 1.2, 1.8)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ModelHolder/knight_weapon:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-1.22697, -0.25, 0, 0.25, 0, -1.22697, -0.25, 0, 0.25, 0, 1.90066, 0, 0, 0, 0, 4.06487, 0, 0, 0, 0, 4.42616, 0, 0, 0, 0, 4.69843, -0.25, 0, 0.0924981, 0.052527, 5.05622, -0.109678, -0.187838, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.348052, 0.648052, 0.8, 1.2, 1.8)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ModelHolder/knight_weapon:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-6.40187, -0.25, 0, 0.25, 0, -6.40187, -0.25, 0, 0.25, 0, -6.16625, 0, 0, 0, 0, -6.48913, 0, 0, 0, 0, -6.5764, 0, 0, 0, 0, -6.23606, -0.25, 0, 0.103379, -0.0120215, -6.40187, -0.0857391, -0.0419273, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.348052, 0.648052, 0.8, 1.2, 1.8)
}

[sub_resource type="Animation" id="Animation_pxci4"]
resource_name = "attack_2"
length = 1.8
step = 0.05
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ModelHolder/knight_weapon:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(1.25084, -0.25, 0, 0.25, 0, 1.25084, -0.25, 0, 0.25, 0, 0.57669, 0, 0, 0, 0, -1.48332, 0, 0, 0, 0, -1.65356, 0, 0, 0, 0, 0.57669, 0, 0, 0, 0, 1.02989, -0.25, 0, 0.25, 0, 1.25084, -0.109678, -0.0618531, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.350344, 0.650344, 0.922326, 1.17233, 1.37324, 1.8)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ModelHolder/knight_weapon:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-0.18948, -0.25, 0, 0.25, 0, -0.18948, -0.25, 0, 0.25, 0, 0.781427, 0, 0, 0, 0, 0.436042, 0, 0, 0, 0, 0.767894, 0, 0, 0, 0, 0.781427, 0, 0, 0, 0, 0.198604, -0.25, 0, 0.25, 0, -0.18948, -0.0944443, 0.204193, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.350344, 0.650344, 0.922326, 1.17233, 1.37324, 1.8)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ModelHolder/knight_weapon:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-1.32519, -0.25, 0, 0.25, 0, -1.32519, -0.25, 0, 0.25, 0, -3.80694, 0, 0, 0, 0, -2.09898, 0, 0, 0, 0, -1.72192, 0, 0, 0, 0, -3.80694, 0, 0, 0, 0, -2.0894, -0.25, 0, 0.25, 0, -1.32519, -0.103149, -0.069227, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.350344, 0.650344, 0.922326, 1.17233, 1.37324, 1.8)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ModelHolder/knight_weapon:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-0.235619, -0.25, 0, 0.25, 0, -0.235619, -0.25, 0, 0.25, 0, 0.122173, 0, 0, 0, 0, -0.284489, 0, 0, 0, 0, -0.151844, 0, 0, 0, 0, 0.122173, 0, 0, 0, 0, -0.187694, -0.25, 0, 0.25, 0, -0.235619, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.350344, 0.650344, 0.922326, 1.17233, 1.37324, 1.8)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ModelHolder/knight_weapon:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-1.22697, -0.25, 0, 0.25, 0, -1.22697, -0.25, 0, 0.25, 0, 1.90066, 0, 0, 0, 0, 4.06487, 0, 0, 0, 0, 4.42616, 0, 0, 0, 0, 1.90066, 0, 0, 0, 0, -0.808031, -0.25, 0, 0.25, 0, -1.22697, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.350344, 0.650344, 0.922326, 1.17233, 1.37324, 1.8)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ModelHolder/knight_weapon:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-6.40187, -0.25, 0, 0.25, 0, -6.40187, -0.25, 0, 0.25, 0, -6.16625, 0, 0, 0, 0, -6.48913, 0, 0, 0, 0, -6.5764, 0, 0, 0, 0, -6.16625, 0, 0, 0, 0, -6.37031, -0.25, 0, 0.25, 0, -6.40187, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.1, 0.350344, 0.650344, 0.922326, 1.17233, 1.37324, 1.8)
}

[sub_resource type="Animation" id="Animation_kgtvx"]
resource_name = "draw"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ModelHolder/knight_weapon:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 1, 0, 0),
"points": PackedFloat32Array(-1.12335, -0.25, 0, 0.25, 0, -1.66441, 0, 0, 0, 0, 0.00137123, -0.25, 0, 0.25, 0, 1.25084, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.3, 0.7, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ModelHolder/knight_weapon:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 1, 0, 0),
"points": PackedFloat32Array(2.77128, -0.25, 0, 0.25, 0, 4.04598, 0, 0, 0, 0, 0.597766, -0.25, 0, 0.25, 0, -0.18948, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.3, 0.7, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ModelHolder/knight_weapon:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 1, 0, 0),
"points": PackedFloat32Array(1.26868, -0.25, 0, 0.25, 0, -0.498855, 0, 0, 0, 0, -2.44739, -0.25, 0, 0.25, 0, -1.32519, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.3, 0.7, 1)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ModelHolder/knight_weapon:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 1, 0, 0),
"points": PackedFloat32Array(-0.261799, -0.25, 0, 0.25, 0, -0.45463, 0, 0, 0, 0, -0.453786, -0.25, 0, 0.25, 0, -0.235619, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.3, 0.7, 1)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ModelHolder/knight_weapon:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 1, 0, 0),
"points": PackedFloat32Array(1.309, -0.25, 0, 0.25, 0, 1.5652, 0, 0, 0, 0, 1.42593, -0.25, 0, 0.25, 0, -1.22697, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.3, 0.7, 1)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ModelHolder/knight_weapon:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0, 1, 0, 0),
"points": PackedFloat32Array(-1.5708, -0.25, 0, 0.25, 0, -2.35802, 0, 0, 0, 0, -6.23955, -0.25, 0, 0.25, 0, -6.40187, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.3, 0.7, 1)
}

[sub_resource type="Animation" id="Animation_byhao"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ModelHolder/knight_weapon:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-1.12335, -0.25, 0, 0.25, 0, -1.12335, -0.25, 0, 0.25, 0, -1.12335, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ModelHolder/knight_weapon:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(2.77128, -0.25, 0, 0.25, 0, 2.52928, -0.25, 0, 0.25, 0, 2.77128, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ModelHolder/knight_weapon:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(1.26868, -0.25, 0, 0.25, 0, 1.26868, -0.25, 0, 0.25, 0, 1.26868, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ModelHolder/knight_weapon:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-0.261799, -0.25, 0, 0.25, 0, -0.261799, -0.25, 0, 0.25, 0, -0.261799, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ModelHolder/knight_weapon:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(1.309, -0.25, 0, 0.25, 0, 1.309, -0.25, 0, 0.25, 0, 1.309, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ModelHolder/knight_weapon:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-1.5708, -0.25, 0, 0.25, 0, -1.693, -0.25, 0, 0.25, 0, -1.5708, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}

[sub_resource type="Animation" id="Animation_pjnnc"]
resource_name = "idle_combat"
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ModelHolder/knight_weapon:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(1.25084, -0.25, 0, 0.25, 0, 1.25084, -0.25, 0, 0.25, 0, 1.25084, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.6, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ModelHolder/knight_weapon:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-0.18948, -0.25, 0, 0.25, 0, -0.18948, -0.25, 0, 0.25, 0, -0.18948, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.6, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ModelHolder/knight_weapon:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-1.32519, -0.25, 0, 0.25, 0, -1.18117, -0.25, 0, 0.25, 0, -1.32519, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.6, 1)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ModelHolder/knight_weapon:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-0.236235, -0.25, 0, 0.25, 0, -0.336604, -0.25, 0, 0.25, 0, -0.236235, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ModelHolder/knight_weapon:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-1.22732, -0.25, 0, 0.25, 0, -1.42751, -0.25, 0, 0.25, 0, -1.22732, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ModelHolder/knight_weapon:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-0.117971, -0.25, 0, 0.25, 0, -0.065015, -0.25, 0, 0.25, 0, -0.117971, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1)
}

[sub_resource type="Animation" id="Animation_x2otc"]
resource_name = "stow"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ModelHolder/knight_weapon:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(1.25084, -0.25, 0, 0.25, 0, 0.00137123, -0.25, 0, 0.25, 0, -1.66441, 0, 0, 0, 0, -1.12335, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.4, 0.7, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ModelHolder/knight_weapon:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(-0.18948, -0.25, 0, 0.25, 0, 0.597766, -0.25, 0, 0.25, 0, 4.04598, 0, 0, 0, 0, 2.77128, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.4, 0.7, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ModelHolder/knight_weapon:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(-1.32519, -0.25, 0, 0.25, 0, -2.44739, -0.25, 0, 0.25, 0, -0.498855, 0, 0, 0, 0, 1.26868, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.4, 0.7, 1)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ModelHolder/knight_weapon:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(-0.235619, -0.25, 0, 0.25, 0, -0.453786, -0.25, 0, 0.25, 0, -0.45463, 0, 0, 0, 0, -0.261799, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.4, 0.7, 1)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ModelHolder/knight_weapon:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(-1.22697, -0.25, 0, 0.25, 0, 1.42593, -0.25, 0, 0.25, 0, 1.5652, 0, 0, 0, 0, 1.309, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.4, 0.7, 1)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ModelHolder/knight_weapon:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0),
"points": PackedFloat32Array(-6.40187, -0.25, 0, 0.25, 0, -6.23955, -0.25, 0, 0.25, 0, -2.35802, 0, 0, 0, 0, -1.5708, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.4, 0.7, 1)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6br8x"]
resource_local_to_scene = true
_data = {
"RESET": SubResource("Animation_u37c2"),
"attack": SubResource("Animation_v0h66"),
"attack_2": SubResource("Animation_pxci4"),
"draw": SubResource("Animation_kgtvx"),
"idle": SubResource("Animation_byhao"),
"idle_combat": SubResource("Animation_pjnnc"),
"stow": SubResource("Animation_x2otc")
}

[node name="KnightCam" type="Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 500, 0)
cull_mask = 1047554
environment = ExtResource("1_0eo3w")
projection = 1
size = 2.7
near = 1.0
far = 10.0

[node name="Knight" type="Node3D" parent="."]
transform = Transform3D(-0.932292, 0, 0.361706, 0, 1, 0, -0.361706, 0, -0.932292, 0, -1, -6)

[node name="Sword" type="Node3D" parent="Knight" groups=["Sword"]]
transform = Transform3D(0.526768, 0, 1.49012e-08, 0, 0.526768, 0, -1.49012e-08, 0, 0.526768, 0, 0.526764, 0)

[node name="ModelHolder" type="Node3D" parent="Knight/Sword"]

[node name="knight_weapon" parent="Knight/Sword/ModelHolder" instance=ExtResource("2_270c3")]
transform = Transform3D(0.250029, 0.258382, 0.933126, -0.965926, -3.49664e-06, 0.258819, 0.0668774, -0.966042, 0.249577, -0.394594, 2.23556, 1.47275)

[node name="knight_weapon2" parent="Knight/Sword/ModelHolder/knight_weapon" index="0"]
layers = 2

[node name="AnimationTreeExpressionExtension" type="AnimationTree" parent="Knight/Sword" groups=["Sword"]]
tree_root = SubResource("AnimationNodeStateMachine_4b714")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/conditions/in_combat = false
parameters/conditions/not_in_combat = false
parameters/Attack/conditions/attack_loops = false
parameters/Attack/conditions/use_attack_2 = false
parameters/Attack/attack/TimeScale/scale = 1.0
"parameters/Attack/attack/TimeScale 2/scale" = 1.0
parameters/Attack/attack_2/TimeScale/scale = 1.0
"parameters/Attack/attack_2/TimeScale 2/scale" = 1.0
parameters/Attack/attack_channel/TimeScale/scale = 1.0
"parameters/Attack/attack_channel/TimeScale 2/scale" = 1.0
parameters/Draw/TimeScale/scale = 1.0
parameters/Stow/TimeScale/scale = 1.0
script = ExtResource("4_46gq8")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Knight/Sword"]
libraries = {
"": SubResource("AnimationLibrary_6br8x")
}

[node name="knight" parent="Knight" instance=ExtResource("4_fybv2")]
transform = Transform3D(-2.98023e-08, 0, 0.526768, 0, 0.496951, 0, -0.526768, 0, -2.98023e-08, 0, 0, 0)

[node name="knight2" parent="Knight/knight" index="0"]
layers = 2

[editable path="Knight/Sword/ModelHolder/knight_weapon"]
[editable path="Knight/knight"]
